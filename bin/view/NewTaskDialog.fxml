<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/11" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="view.NewTaskController"
            prefWidth="500" prefHeight="500"
            style="-fx-background-color: #f8f9fa;">
    
    <top>
        <VBox spacing="5" style="-fx-padding: 15;">
            <Label text="Новая задача" 
                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;">
                <font>
                    <Font name="System Bold" size="20.0" />
                </font>
            </Label>
            
            <Separator/>
        </VBox>
    </top>
    
    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;">
            <VBox spacing="10" style="-fx-padding: 15;">
                
                <!-- Заголовок -->
                <VBox spacing="5">
                    <Label text="Заголовок *" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="titleField" promptText="Введите заголовок задачи"/>
                </VBox>
                
                <!-- Описание -->
                <VBox spacing="5">
                    <Label text="Описание" style="-fx-font-weight: bold;"/>
                    <TextArea fx:id="descriptionArea" 
                              promptText="Введите описание задачи"
                              wrapText="true"
                              prefRowCount="3"/>
                </VBox>
                
                <!-- Время начала -->
                <VBox spacing="5">
                    <Label text="Время начала" style="-fx-font-weight: bold;"/>
                    <HBox spacing="10">
                        <DatePicker fx:id="startDatePicker" 
                                    promptText="Дата начала"
                                    HBox.hgrow="ALWAYS"/>
                        <ComboBox fx:id="startHourCombo" promptText="Часы" prefWidth="80"/>
                        <Label text=":"/>
                        <ComboBox fx:id="startMinuteCombo" promptText="Минуты" prefWidth="80"/>
                    </HBox>
                </VBox>
                
                <!-- Время окончания -->
                <VBox spacing="5">
                    <Label text="Время окончания *" style="-fx-font-weight: bold;"/>
                    <HBox spacing="10">
                        <DatePicker fx:id="endDatePicker" 
                                    promptText="Дата окончания"
                                    HBox.hgrow="ALWAYS"/>
                        <ComboBox fx:id="endHourCombo" promptText="Часы" prefWidth="80"/>
                        <Label text=":"/>
                        <ComboBox fx:id="endMinuteCombo" promptText="Минуты" prefWidth="80"/>
                    </HBox>
                </VBox>
                
                <!-- Приоритет и категория -->
                <HBox spacing="20">
                    <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label text="Приоритет" style="-fx-font-weight: bold;"/>
                        <ComboBox fx:id="priorityCombo" promptText="Выберите приоритет"/>
                    </VBox>
                    
                    <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label text="Категория" style="-fx-font-weight: bold;"/>
                        <ComboBox fx:id="categoryCombo" promptText="Выберите категорию"/>
                    </VBox>
                </HBox>
                
                <!-- Сообщение об ошибке -->
                <Label fx:id="errorLabel" 
                       style="-fx-text-fill: red; -fx-font-size: 11px;"
                       wrapText="true"/>
                
            </VBox>
        </ScrollPane>
    </center>
    
    <bottom>
        <HBox spacing="10" alignment="CENTER_RIGHT" style="-fx-padding: 15;">
            <Region HBox.hgrow="ALWAYS"/>
            
            <Button fx:id="cancelButton" 
                    text="Отмена" 
                    onAction="#handleCancel"
                    style="-fx-background-color: #95a5a6; -fx-text-fill: white;"
                    prefWidth="100"/>
            
            <Button fx:id="createButton" 
                    text="Создать" 
                    onAction="#handleCreateTask"
                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold;"
                    prefWidth="100"/>
        </HBox>
    </bottom>
    
</BorderPane>