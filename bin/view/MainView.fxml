<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx/11" 
      xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="view.MainController"
      stylesheets="@../resources/styles/styles.css"
      spacing="10"
      style="-fx-padding: 15;">
    
    <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
    <HBox alignment="CENTER" VBox.vgrow="NEVER">
        <Label fx:id="appTitleLabel" 
               text="ðŸŽ„ Ð£Ð¼Ð½Ñ‹Ð¹ Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ð·Ð°Ð´Ð°Ñ‡ ðŸŽ…" 
               style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #ff3366;"/>
    </HBox>
    
    <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ñ€Ð°ÑÑ‚ÑÐ³Ð¸Ð²Ð°ÐµÑ‚ÑÑ -->
    <Pane VBox.vgrow="ALWAYS" style="-fx-background-color: rgba(13, 21, 41, 0.85); -fx-background-radius: 10; -fx-border-color: rgba(255, 102, 153, 0.3); -fx-border-width: 1; -fx-border-radius: 10;">
        
        <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð´Ð»Ñ ÑÐ½ÐµÐ¶Ð¸Ð½Ð¾Ðº - Ð·Ð°Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ Ð²ÐµÑÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ -->
        <Pane fx:id="snowPane" 
              style="-fx-background-color: transparent;"
              prefWidth="900" prefHeight="600"/>
        
        <!-- ÐšÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð¿Ð¾Ð²ÐµÑ€Ñ… ÑÐ½ÐµÐ³Ð° -->
        <VBox spacing="10" style="-fx-padding: 15;">
            
            <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð¿Ð¾Ð¸ÑÐºÐ° -->
            <HBox spacing="8" alignment="CENTER_LEFT" VBox.vgrow="NEVER">
                <Label text="ðŸ” ÐŸÐ¾Ð¸ÑÐº:" style="-fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 13px;"/>
                <TextField fx:id="searchField" 
                           promptText="ÐÐ°Ð¹Ñ‚Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ñƒ..."
                           HBox.hgrow="ALWAYS"
                           style="-fx-font-size: 13px;"/>
            </HBox>
            
            <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² -->
            <HBox spacing="8" alignment="CENTER_LEFT" VBox.vgrow="NEVER">
                <Button fx:id="addButton" 
                        text="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ" 
                        onAction="#handleAddTask"
                        style="-fx-font-size: 12px; -fx-padding: 5 10; -fx-background-color: #00cc66;"
                        prefWidth="120"/>
                
                <Button fx:id="deleteButton" 
                        text="ðŸ—‘ï¸ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" 
                        onAction="#handleDeleteTask"
                        style="-fx-font-size: 12px; -fx-padding: 5 10; -fx-background-color: #ff6600;"
                        prefWidth="120"/>

                <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸ -->
                <Button fx:id="sortByDateButton" 
                    onAction="#sortByDate"
                    style="-fx-font-size: 12px; -fx-padding: 5 10; -fx-background-color: #3498db; -fx-text-fill: white;"
                    prefWidth="120"/>
    
                <Button fx:id="sortByPriorityButton" 
                    onAction="#sortByPriority"
                    style="-fx-font-size: 12px; -fx-padding: 5 10; -fx-background-color: #9b59b6; -fx-text-fill: white;"
                    prefWidth="120"/>
                
                <Region HBox.hgrow="ALWAYS"/>
                
                <Button text="ðŸšª Ð’Ñ‹Ñ…Ð¾Ð´" 
                        onAction="#handleExit"
                        style="-fx-font-size: 12px; -fx-padding: 5 10; -fx-background-color: #6666ff;"
                        prefWidth="80"/>
            </HBox>
            
            <!-- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ð·Ð°Ð´Ð°Ñ‡ - Ñ€Ð°ÑÑ‚ÑÐ³Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð¿Ð¾ Ð²ÐµÑ€Ñ‚Ð¸ÐºÐ°Ð»Ð¸ -->
            <TableView fx:id="taskTable" 
                       VBox.vgrow="ALWAYS"
                       style="-fx-font-size: 12px; -fx-background-color: rgba(255, 255, 255, 0.95);">
                <columns>
                    <TableColumn fx:id="titleColumn" text="Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº" minWidth="150" prefWidth="200"/>
                    <TableColumn fx:id="descriptionColumn" text="ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ" minWidth="200" prefWidth="300"/>
                    <TableColumn fx:id="deadlineColumn" text="Ð¡Ñ€Ð¾Ðº Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ" minWidth="120" prefWidth="150"/>
                    <TableColumn fx:id="priorityColumn" text="ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚" minWidth="80" prefWidth="100"/>
                    <TableColumn fx:id="categoryColumn" text="ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ" minWidth="80" prefWidth="100"/>
                    <TableColumn fx:id="statusColumn" text="Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾" minWidth="70" prefWidth="80"/>
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
            </TableView>
            
            <!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑÐ½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° -->
            <HBox spacing="5" style="-fx-background-color: rgba(13,21,41,0.9); -fx-padding: 8; -fx-border-radius: 5;" VBox.vgrow="NEVER">
                <Label fx:id="statusLabel" 
                       style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: white;"
                       text="Ð’ÑÐµÐ³Ð¾ Ð·Ð°Ð´Ð°Ñ‡: 0 | Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾: 0 | ÐŸÑ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½Ð¾: 0"/>
            </HBox>
            
        </VBox>
        
    </Pane>
    
</VBox>